POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
accept: */*
content-type: application/json
x-goog-api-key: *** REDACTED ***

{"contents": [{"parts": [{"text": "Find all users in San Francisco and tell me their names and total order amounts."}], "role": "user"}, {"parts": [{"thoughtSignature": "CiIB0e2Kb28Etf5HJ4270PZbdoSmyDQwCDhfnks49sPR42R-CmIB0e2Kb3vmCDeWk0_EOXtXWztNDUYsalp2jSrZhftZthRDdJk57NCZ8mh791EFh2etJG2xnrkHNGR9emOgCi47NirppB304kxs9bd-KjiB2nL-8WRhdkG7wXCdzqewWiJXcgrWAQHR7Ypv_iXa149t-17VS2Ix1UO0idi_D7sK1-uww2WEyEHOpDIHa5iPG2EbRCZKz7sIAg4GCLWmc-PzukJqO9rvRQaxhqSERwwMjpslesQD-xKc-RtNaS8IYPVWIUJVndk_okEEc00OjpJ5P-KrLmNSi4iS_LLhtIhT8nWifkNt7XpJQHNBHsYl72iu1XNt0FB7kkq1QIiCO7CYdU_-Nh9TyB7-fxhWmLU8yJKF1tDNDDJUema8gS6L7n_gyDssWMb40EquQNUDLlC7ON5lQ3jenjwh16sK0wEB0e2Kb1W-u2hn2hjAjtzRuARFJvvolyG8wVtZTcLyx6-zVsckwX0au8Zz8Euz5eR3HcSC6Co3zSOWfkAoWKK6wRAKS0L4yVcsZkAdN21m-7D6TBawoL3IOWEvWxyikJLfuDAzM2noVElvoTXL3MLE99MbgbfDoaA-WNOrGfzPWsRNYZIsznCIIRUX6XYesXLVvBeRQPGxJoqvwuJd3-lZulELvP8cW7zbe7wYMvpc5RutuFmCrFTjvQdFhtad7BvUmdLlE6vRb8Z-T5YaYW86QzvFCsoBAdHtim8jU6LF13_x4gIXr0F5zY2fsiKqKTqq-JNRPYnExZG_WPNXhZ6aPq8q4jmYAd1i8ot9chKiLnnA5DB24QRHK73mkuHBLMt1ENbCHfPYyw40eOzwnJQbVBd_4oDc3BXUt_uRagQborsWay21RyOkG64JI_gTeidw4HQPKAwyiPzxAzK09HNNbjvePIR3PBuBSKwg8aEO-Apn8MSXUEUw7xIXTLWBCRB_z31kDvLCq5FahRyTLtMVpgznM3kOwshgVA5K_nMtfArNAQHR7YpvhgRYaaVlfZr8Nz_FrrYsm-VKpxlUOIgKY7j2WQ_Jr3MIGmxl5y9o2lQQhkeL3Ra50-flOG6owc7vK4N8TuhTQOCMdkboy1q1SJLBfkUkYD3lzxhOA3IotWMn7cpIH8OILL4t6kAOH3c5jamnmt1c2ykQa8zX30Yo9X1xggWreaPrQUzajjAhqes29pGpZBnDjbvbwHvyNebhjHaJpainmdqfUMnyktDML0-9j6-oVF6-HjgvrLbHXN85x6CrjFq_bPBLjB0NeLQKxAEB0e2Kbykact1Rm8vVBDqGUsa_Y2nd26EmFMNwcg3Xyu7yXyaHzBj8fH-nJLgYImSSUMNtlaIqWDxUf7zXklCqCfV3oEywdpIs5WsAWq-EaMYbN8gaPOaT1uow4HoSXqSGSNhnbQrF2jBhE4m4Yx1b_bjERKO9hBvpvV8VO8lGfDbqFk0uM_uX3LidcWtF53PtSyodjLKku4-DN3LtpPmrDpZCDeXypuiJLb3A0McE8VuTAGt2Q2XKy3F5SjAK-4lz_7aRCp4BAdHtim9TVTd1aoZyQS8UhNyYyN-70JUlBuxwUqQIDys6i5F2yq0ZxEcUiQ_3_0IpseL92zBbet6cEE2X7c-mzmFm_hhwnoOm1qOUNH31CUcMWQEs8Fb-EQ3imyh9evo3n4ABrB7VAzef66e_C4NC1LqQnKqtTwRMwrLb9gRJIULckE5_FZtmVq98Ul1e0cDjUsOwti_xY1NpGVYBuY8=", "functionCall": {"args": {"city": "San Francisco"}, "name": "search_users"}}], "role": "model"}, {"parts": [{"functionResponse": {"id": "bdd640fb-0667-4ad1-9c80-317fa3b1799d", "name": "search_users", "response": {"result": "[{'id': 1, 'name': 'Alice'}]"}}}], "role": "tool"}], "systemInstruction": {"parts": [{"text": "You are a database assistant. Use the provided functions to answer questions about users and orders."}], "role": "user"}, "tools": [{"functionDeclarations": [{"description": "Calculate the total amount spent by a user.", "name": "get_order_total", "parameters": {"description": "Calculate the total amount spent by a user.", "properties": {"user_id": {"type": "INTEGER"}}, "required": ["user_id"], "title": "get_order_total", "type": "OBJECT"}}, {"description": "Get all orders for a specific user ID.", "name": "get_user_orders", "parameters": {"description": "Get all orders for a specific user ID.", "properties": {"user_id": {"type": "INTEGER"}}, "required": ["user_id"], "title": "get_user_orders", "type": "OBJECT"}}, {"description": "Search for users by city.", "name": "search_users", "parameters": {"description": "Search for users by city.", "properties": {"city": {"type": "STRING"}}, "required": ["city"], "title": "search_users", "type": "OBJECT"}}]}], "generationConfig": {}}