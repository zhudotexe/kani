POST https://api.openai.com/v1/chat/completions
accept: application/json
content-type: application/json
authorization: *** REDACTED ***

{"messages":[{"role":"system","content":"You are a weather assistant. Use the provided functions to answer weather questions."},{"role":"user","content":"What's the weather in San Francisco and New York? Report in Fahrenheit."},{"role":"assistant","content":null,"tool_calls":[{"id":"call_Xli0e65cegkIMS09XBOeUcq4","type":"function","function":{"name":"get_weather","arguments":"{\"location\": \"San Francisco, CA\", \"unit\": \"fahrenheit\"}"}},{"id":"call_VKgXybZapEymeXEDmz7HfEit","type":"function","function":{"name":"get_weather","arguments":"{\"location\": \"New York, NY\", \"unit\": \"fahrenheit\"}"}}]},{"role":"tool","content":"Weather in San Francisco, CA: Foggy, 65 degrees fahrenheit.","tool_call_id":"call_Xli0e65cegkIMS09XBOeUcq4"},{"role":"tool","content":"Weather in New York, NY: Sunny, 75 degrees fahrenheit.","tool_call_id":"call_VKgXybZapEymeXEDmz7HfEit"}],"model":"gpt-5-mini","stream":true,"stream_options":{"include_usage":true},"tools":[{"type":"function","function":{"name":"get_forecast","description":"Get the 3-day forecast for a location.","parameters":{"description":"Get the 3-day forecast for a location.","properties":{"location":{"description":"The city and state, e.g. San Francisco, CA","type":"string"}},"required":["location"],"title":"get_forecast","type":"object"}}},{"type":"function","function":{"name":"get_weather","description":"Get the current weather in a given location.","parameters":{"description":"Get the current weather in a given location.","properties":{"location":{"description":"The city and state, e.g. San Francisco, CA","type":"string"},"unit":{"title":"Unit","enum":["fahrenheit","celsius"],"type":"string"}},"required":["location","unit"],"title":"get_weather","type":"object"}}}]}